"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[660],{9660:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"bv-example-row mt-3"},[r("b-row",[r("b-col",[r("b-alert",{attrs:{show:""}},[r("h3",[t._v("글수정")])])],1)],1),r("question-input-item",{attrs:{type:"modify"}})],1)},i=[],s=r(9785),c={name:"QuestionModify",components:{QuestionInputItem:s.Z}},o=c,a=r(1001),u=(0,a.Z)(o,n,i,!1,null,null,null),l=u.exports},9785:function(t,e,r){r.d(e,{Z:function(){return b}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mb-1"},[r("b-col",{staticStyle:{"text-align":"left"}},[r("b-form",[r("b-form-group",{attrs:{id:"userid-group",label:"작성자:","label-for":"userid",description:"작성자를 입력하세요."}},[r("b-form-input",{ref:"userid",attrs:{id:"userid",disabled:"",type:"text",required:"",placeholder:"작성자 입력..."},model:{value:t.article.userid,callback:function(e){t.$set(t.article,"userid",e)},expression:"article.userid"}})],1),r("b-form-group",{attrs:{id:"subject-group",label:"제목:","label-for":"subject",description:"제목을 입력하세요."}},[r("b-form-input",{ref:"subject",attrs:{id:"subject",type:"text",required:"",placeholder:"제목 입력..."},model:{value:t.article.subject,callback:function(e){t.$set(t.article,"subject",e)},expression:"article.subject"}})],1),r("b-form-group",{attrs:{id:"content-group",label:"내용:","label-for":"content"}},[r("b-form-textarea",{ref:"content",attrs:{id:"content",placeholder:"내용 입력...",rows:"10","max-rows":"15",required:""},model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}})],1),"register"===this.type?r("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"},on:{click:t.onSubmit}},[t._v("글작성")]):r("b-button",{staticClass:"m-1",attrs:{type:"submit",variant:"primary"},on:{click:t.onSubmit}},[t._v("글수정")]),r("b-button",{staticClass:"m-1",attrs:{type:"reset",variant:"danger"},on:{click:t.onReset}},[t._v("목록으로")])],1)],1)],1)},i=[],s=r(803),c=r(4665);const o="memberStore";var a={name:"QuestionInputItem",data(){return{article:{articleno:0,userid:"",subject:"",content:""}}},props:{type:{type:String}},computed:{...(0,c.rn)(o,["userInfo"])},created(){"modify"===this.type?((0,s.fq)(this.$route.params.articleno,(({data:t})=>{this.article=t}),(t=>{console.log(t)})),this.isUserid=!0):this.article.userid=this.userInfo.userid},methods:{onSubmit(t){t.preventDefault();let e=!0,r="";!this.article.userid&&(r="작성자 입력해주세요",e=!1,this.$refs.userid.focus()),e&&!this.article.subject&&(r="제목 입력해주세요",e=!1,this.$refs.subject.focus()),e&&!this.article.content&&(r="내용 입력해주세요",e=!1,this.$refs.content.focus()),e?"register"===this.type?this.registArticle():this.modifyArticle():alert(r)},onReset(t){t.preventDefault(),this.article.articleno=0,this.article.subject="",this.article.content="",this.$router.push({name:"questionList"})},registArticle(){(0,s.hY)({userid:this.article.userid,subject:this.article.subject,content:this.article.content},(({data:t})=>{let e="등록 처리시 문제가 발생했습니다.";"success"===t&&(e="등록이 완료되었습니다."),alert(e),this.moveList()}),(t=>{console.log(t)}))},modifyArticle(){(0,s.cn)({articleno:this.article.articleno,userid:this.article.userid,subject:this.article.subject,content:this.article.content},(({data:t})=>{let e="수정 처리시 문제가 발생했습니다.";"success"===t&&(e="수정이 완료되었습니다."),alert(e),this.$router.push({name:"questionList"})}),(t=>{console.log(t)}))},moveList(){this.$router.push({name:"questionList"})}}},u=a,l=r(1001),f=(0,l.Z)(u,n,i,!1,null,null,null),b=f.exports},803:function(t,e,r){r.d(e,{Es:function(){return l},G:function(){return h},KL:function(){return b},cc:function(){return d},cn:function(){return a},fq:function(){return o},hY:function(){return c},jC:function(){return s},jX:function(){return u},zj:function(){return f}});var n=r(6927);const i=(0,n.b)();function s(t,e,r){i.get("/qboard/",{params:t},console.log("")).then(e).catch(r)}function c(t,e,r){i.post("/qboard",JSON.stringify(t)).then(e).catch(r)}function o(t,e,r){i.get(`/qboard/${t}`).then(e).catch(r)}function a(t,e,r){i.put(`/qboard/${t.articleno}`,JSON.stringify(t)).then(e).catch(r)}function u(t,e,r){i.delete(`/qboard/${t}`).then(e).catch(r)}function l(t,e,r){i.get(`/aboard/${t}`).then(e).catch(r)}function f(t,e,r){i.get(`/aboard/answer/${t}`).then(e).catch(r)}function b(t,e,r){i.post("/aboard",JSON.stringify(t)).then(e).catch(r)}function d(t,e,r){i.put(`/aboard/${t.articleno}`,JSON.stringify(t)).then(e).catch(r)}function h(t,e,r){i.delete(`/aboard/${t}`).then(e).catch(r)}}}]);
//# sourceMappingURL=660.d1399ba8.js.map