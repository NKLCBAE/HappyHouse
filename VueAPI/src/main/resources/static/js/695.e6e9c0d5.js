"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[695],{8695:function(t,e,r){r.r(e),r.d(e,{default:function(){return _}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"bv-example-row mt-3"},[r("b-row",[r("b-col",[r("b-alert",{attrs:{show:""}},[r("h3",[t._v("질문 내용")])])],1)],1),r("b-row",{staticClass:"mb-1"},[r("b-col",{staticClass:"text-left"},[r("b-button",{attrs:{variant:"outline-primary"},on:{click:t.listArticle}},[t._v("목록")])],1),r("b-col",{staticClass:"text-right"},[t.checkId()?r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info",size:"sm"},on:{click:t.moveModifyArticle}},[t._v("글수정")]):t._e(),t.checkId()?r("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.deleteArticle}},[t._v("글삭제")]):t._e()],1)],1),r("b-row",{staticClass:"mb-1"},[r("b-col",[r("b-card",{staticClass:"mb-2",attrs:{"header-html":"<h3>"+t.article.articleno+".\n        "+t.article.subject+" ["+t.article.hit+"]</h3><div><h6>"+t.article.userid+"</div><div>"+t.article.regtime+"</h6></div>","border-variant":"dark","no-body":""}},[r("b-card-body",{staticClass:"text-left"},[r("div",{domProps:{innerHTML:t._s(t.message)}})])],1)],1)],1),r("answer-list",{attrs:{questionno:t.article.articleno}})],1)},a=[],s=r(803),i=r(4665),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"bv-example-row mt-3"},[r("b-row",[r("b-col",[r("b-alert",{attrs:{show:""}},[r("h3",[t._v("답글 목록")])])],1)],1),r("b-row",{staticClass:"mb-1 row justify-content-end"},[r("b-col",{attrs:{md:"1.5"}},[r("b-form-select",{attrs:{options:t.options},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),r("b-col",{staticClass:"text-right",attrs:{md:"1.5"}},[r("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.moveWrite()}}},[t._v("답변쓰기")])],1)],1),r("b-row",[t.articles.length?r("b-col",[r("b-table",{attrs:{id:"board-table",items:t.articles,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,hover:"",responsive:"",striped:"","head-variant":"dark"},scopedSlots:t._u([{key:"cell(regtime)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(actions)",fn:function(e){return[t.checkId(e.item.userid)?r("b-button",{staticClass:"mt-1",attrs:{variant:"outline-info",size:"sm"},on:{click:function(r){return t.moveModify(e.item)}}},[t._v(" 수정 ")]):t._e(),t.checkId(e.item.userid)?r("b-button",{staticClass:"mt-1",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(r){return t.moveDelete(e.item)}}},[t._v(" 삭제 ")]):t._e()]}}],null,!1,1618332103)}),r("b-pagination",{attrs:{"total-rows":t.articles.length,"per-page":t.perPage,"aria-controls":"board-table","first-number":"","last-number":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):r("b-col",{staticClass:"text-center"},[t._v("답글이 없습니다.")])],1)],1)},c=[],l=r(7133),u=r.n(l);const d="memberStore";var b={name:"AnswerList",props:{questionno:Number},data(){return{articles:[],fields:[{key:"content",label:"답글",tdClass:"tdSubject",sortable:!0},{key:"userid",label:"작성자",tdClass:"tdClass",sortable:!0},{key:"regtime",label:"작성일",tdClass:"tdClass",sortable:!0},{key:"actions",label:"수정&삭제",tdClass:"tdClass"}],perPage:5,currentPage:1,options:[{value:5,text:"5개"},{value:10,text:"10개"},{value:20,text:"20개"}],nowUser:""}},computed:{...(0,i.rn)(d,["userInfo"])},created(){(0,s.Es)(this.$route.params.articleno,(t=>{this.articles=t.data,console.log(this.articles)})),this.nowUser=this.userInfo.userid},methods:{moveWrite(){this.$router.push({name:"answerRegister",params:{questionno:this.questionno}})},moveModify(t){this.checkId(t.userid)?this.$router.push({name:"answerModify",params:{questionno:t.questionno,answerno:t.answerno}}):alert("수정 권한이 없습니다!")},moveDelete(t){this.checkId(t.userid)?this.$router.push({name:"answerDelete",params:{questionno:t.questionno,answerno:t.answerno}}):alert("삭제 권한이 없습니다!")},checkId(t){return this.nowUser===t}},filters:{dateFormat(t){return u()(new Date(t)).format("YY.MM.DD")}}},h=b,m=r(1001),f=(0,m.Z)(h,o,c,!1,null,null,null),p=f.exports;const v="memberStore";var g={name:"QuestionDetail",data(){return{nowUser:"",article:{}}},components:{AnswerList:p},computed:{...(0,i.rn)(v,["userInfo"]),message(){return this.article.content?this.article.content.split("\n").join("<br>"):""}},created(){this.nowUser=this.userInfo.userid,(0,s.fq)(this.$route.params.articleno,(t=>{this.article=t.data}),(t=>{console.log("삭제시 에러발생!!",t)}))},methods:{listArticle(){this.$router.push({name:"questionList"})},moveModifyArticle(){this.$router.replace({name:"questionModify",params:{articleno:this.article.articleno}})},deleteArticle(){confirm("정말로 삭제?")&&(0,s.jX)(this.article.articleno,(()=>{this.$router.push({name:"questionList"})}))},checkId(){return this.nowUser===this.article.userid}}},w=g,k=(0,m.Z)(w,n,a,!1,null,"70297017",null),_=k.exports},803:function(t,e,r){r.d(e,{Es:function(){return u},G:function(){return m},KL:function(){return b},cc:function(){return h},cn:function(){return c},fq:function(){return o},hY:function(){return i},jC:function(){return s},jX:function(){return l},zj:function(){return d}});var n=r(6927);const a=(0,n.b)();function s(t,e,r){a.get("/qboard/",{params:t},console.log("")).then(e).catch(r)}function i(t,e,r){a.post("/qboard",JSON.stringify(t)).then(e).catch(r)}function o(t,e,r){a.get(`/qboard/${t}`).then(e).catch(r)}function c(t,e,r){a.put(`/qboard/${t.articleno}`,JSON.stringify(t)).then(e).catch(r)}function l(t,e,r){a.delete(`/qboard/${t}`).then(e).catch(r)}function u(t,e,r){a.get(`/aboard/${t}`).then(e).catch(r)}function d(t,e,r){a.get(`/aboard/answer/${t}`).then(e).catch(r)}function b(t,e,r){a.post("/aboard",JSON.stringify(t)).then(e).catch(r)}function h(t,e,r){a.put(`/aboard/${t.articleno}`,JSON.stringify(t)).then(e).catch(r)}function m(t,e,r){a.delete(`/aboard/${t}`).then(e).catch(r)}}}]);
//# sourceMappingURL=695.e6e9c0d5.js.map