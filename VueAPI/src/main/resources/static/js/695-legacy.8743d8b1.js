"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[695],{8695:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"bv-example-row mt-3"},[n("b-row",[n("b-col",[n("b-alert",{attrs:{show:""}},[n("h3",[t._v("질문 내용")])])],1)],1),n("b-row",{staticClass:"mb-1"},[n("b-col",{staticClass:"text-left"},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:t.listArticle}},[t._v("목록")])],1),n("b-col",{staticClass:"text-right"},[t.checkId()?n("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info",size:"sm"},on:{click:t.moveModifyArticle}},[t._v("글수정")]):t._e(),t.checkId()?n("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:t.deleteArticle}},[t._v("글삭제")]):t._e()],1)],1),n("b-row",{staticClass:"mb-1"},[n("b-col",[n("b-card",{staticClass:"mb-2",attrs:{"header-html":"<h3>"+t.article.articleno+".\n        "+t.article.subject+" ["+t.article.hit+"]</h3><div><h6>"+t.article.userid+"</div><div>"+t.article.regtime+"</h6></div>","border-variant":"dark","no-body":""}},[n("b-card-body",{staticClass:"text-left"},[n("div",{domProps:{innerHTML:t._s(t.message)}})])],1)],1)],1),n("answer-list",{attrs:{questionno:t.article.articleno}})],1)},a=[],o=n(93019),i=(n(69600),n(74916),n(23123),n(15306),n(60803)),s=n(34665),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"bv-example-row mt-3"},[n("b-row",[n("b-col",[n("b-alert",{attrs:{show:""}},[n("h3",[t._v("답글 목록")])])],1)],1),n("b-row",{staticClass:"mb-1 row justify-content-end"},[n("b-col",{attrs:{md:"1.5"}},[n("b-form-select",{attrs:{options:t.options},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),n("b-col",{staticClass:"text-right",attrs:{md:"1.5"}},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.moveWrite()}}},[t._v("답변쓰기")])],1)],1),n("b-row",[t.articles.length?n("b-col",[n("b-table",{attrs:{id:"board-table",items:t.articles,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,hover:"",responsive:"",striped:"","head-variant":"dark"},scopedSlots:t._u([{key:"cell(regtime)",fn:function(e){return[t._v(" "+t._s(e.value)+" ")]}},{key:"cell(actions)",fn:function(e){return[t.checkId(e.item.userid)?n("b-button",{staticClass:"mt-1",attrs:{variant:"outline-info",size:"sm"},on:{click:function(n){return t.moveModify(e.item)}}},[t._v(" 수정 ")]):t._e(),t.checkId(e.item.userid)?n("b-button",{staticClass:"mt-1",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(n){return t.moveDelete(e.item)}}},[t._v(" 삭제 ")]):t._e()]}}],null,!1,1618332103)}),n("b-pagination",{attrs:{"total-rows":t.articles.length,"per-page":t.perPage,"aria-controls":"board-table","first-number":"","last-number":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):n("b-col",{staticClass:"text-center"},[t._v("답글이 없습니다.")])],1)],1)},l=[],u=(n(9653),n(17133)),d=n.n(u),f="memberStore",b={name:"AnswerList",props:{questionno:Number},data:function(){return{articles:[],fields:[{key:"content",label:"답글",tdClass:"tdSubject",sortable:!0},{key:"userid",label:"작성자",tdClass:"tdClass",sortable:!0},{key:"regtime",label:"작성일",tdClass:"tdClass",sortable:!0},{key:"actions",label:"수정&삭제",tdClass:"tdClass"}],perPage:5,currentPage:1,options:[{value:5,text:"5개"},{value:10,text:"10개"},{value:20,text:"20개"}],nowUser:""}},computed:(0,o.Z)({},(0,s.rn)(f,["userInfo"])),created:function(){var t=this;(0,i.Es)(this.$route.params.articleno,(function(e){t.articles=e.data,console.log(t.articles)})),this.nowUser=this.userInfo.userid},methods:{moveWrite:function(){this.$router.push({name:"answerRegister",params:{questionno:this.questionno}})},moveModify:function(t){this.checkId(t.userid)?this.$router.push({name:"answerModify",params:{questionno:t.questionno,answerno:t.answerno}}):alert("수정 권한이 없습니다!")},moveDelete:function(t){this.checkId(t.userid)?this.$router.push({name:"answerDelete",params:{questionno:t.questionno,answerno:t.answerno}}):alert("삭제 권한이 없습니다!")},checkId:function(t){return this.nowUser===t}},filters:{dateFormat:function(t){return d()(new Date(t)).format("YY.MM.DD")}}},h=b,m=n(1001),p=(0,m.Z)(h,c,l,!1,null,null,null),v=p.exports,g="memberStore",w={name:"QuestionDetail",data:function(){return{nowUser:"",article:{}}},components:{AnswerList:v},computed:(0,o.Z)((0,o.Z)({},(0,s.rn)(g,["userInfo"])),{},{message:function(){return this.article.content?this.article.content.split("\n").join("<br>"):""}}),created:function(){var t=this;this.nowUser=this.userInfo.userid,(0,i.fq)(this.$route.params.articleno,(function(e){t.article=e.data}),(function(t){console.log("삭제시 에러발생!!",t)}))},methods:{listArticle:function(){this.$router.push({name:"questionList"})},moveModifyArticle:function(){this.$router.replace({name:"questionModify",params:{articleno:this.article.articleno}})},deleteArticle:function(){var t=this;confirm("정말로 삭제?")&&(0,i.jX)(this.article.articleno,(function(){t.$router.push({name:"questionList"})}))},checkId:function(){return this.nowUser===this.article.userid}}},k=w,_=(0,m.Z)(k,r,a,!1,null,"70297017",null),C=_.exports},60803:function(t,e,n){n.d(e,{Es:function(){return u},G:function(){return h},KL:function(){return f},cc:function(){return b},cn:function(){return c},fq:function(){return s},hY:function(){return i},jC:function(){return o},jX:function(){return l},zj:function(){return d}});n(38862);var r=n(86927),a=(0,r.b)();function o(t,e,n){a.get("/qboard/",{params:t},console.log("")).then(e).catch(n)}function i(t,e,n){a.post("/qboard",JSON.stringify(t)).then(e).catch(n)}function s(t,e,n){a.get("/qboard/".concat(t)).then(e).catch(n)}function c(t,e,n){a.put("/qboard/".concat(t.articleno),JSON.stringify(t)).then(e).catch(n)}function l(t,e,n){a.delete("/qboard/".concat(t)).then(e).catch(n)}function u(t,e,n){a.get("/aboard/".concat(t)).then(e).catch(n)}function d(t,e,n){a.get("/aboard/answer/".concat(t)).then(e).catch(n)}function f(t,e,n){a.post("/aboard",JSON.stringify(t)).then(e).catch(n)}function b(t,e,n){a.put("/aboard/".concat(t.articleno),JSON.stringify(t)).then(e).catch(n)}function h(t,e,n){a.delete("/aboard/".concat(t)).then(e).catch(n)}}}]);
//# sourceMappingURL=695-legacy.8743d8b1.js.map