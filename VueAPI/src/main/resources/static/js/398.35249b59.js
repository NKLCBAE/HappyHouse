"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[398],{7398:function(e,t,a){a.r(t),a.d(t,{default:function(){return Q}});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"bv-example-row mt-3 text-center"},[a("h3",{staticClass:"underline-orange"},[a("b-icon",{attrs:{icon:"house-fill"}}),e._v(" House Service ")],1),a("b-row",[a("b-col",[a("house-search-bar")],1)],1),a("b-row",[a("house-map")],1),a("b-row",[a("b-col",{attrs:{cols:"6",align:"left"}},[a("house-list")],1),a("b-col",{attrs:{cols:"6"}},[a("house-detail")],1)],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-row",{staticClass:"mt-4 mb-4 text-center"},[a("b-col",{staticClass:"sm-3"},[a("b-form-select",{attrs:{options:e.sidos},on:{change:e.gugunList},model:{value:e.sidoCode,callback:function(t){e.sidoCode=t},expression:"sidoCode"}})],1),a("b-col",{staticClass:"sm-3"},[a("b-form-select",{attrs:{options:e.guguns},on:{change:e.dongList},model:{value:e.gugunCode,callback:function(t){e.gugunCode=t},expression:"gugunCode"}})],1),a("b-col",{staticClass:"sm-3"},[a("b-form-select",{attrs:{options:e.dongs},on:{change:e.searchApt},model:{value:e.dongCode,callback:function(t){e.dongCode=t},expression:"dongCode"}})],1)],1),a("b-row",[a("b-input",{attrs:{placeholder:"검색어가 포함된 정보를 가진 아파트들을 검색합니다!"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchAptByText.apply(null,arguments)}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)],1)},i=[],n=a(4665);const l="houseStore";var p={name:"HouseSearchBar",data(){return{sidoCode:null,gugunCode:null,dongCode:null,text:""}},computed:{...(0,n.rn)(l,["sidos","guguns","dongs","houses"])},created(){this.CLEAR_SIDO_LIST(),this.getSido()},methods:{...(0,n.nv)(l,["getSido","getGugun","getDong","getHouseList","getHouseListByText","getCurrentPage"]),...(0,n.OI)(l,["CLEAR_SIDO_LIST","CLEAR_GUGUN_LIST","CLEAR_DONG_LIST"]),gugunList(){console.log(this.sidoCode),this.CLEAR_GUGUN_LIST(),this.gugunCode=null,this.sidoCode&&this.getGugun(this.sidoCode)},dongList(){console.log(this.dongCode),this.CLEAR_DONG_LIST(),this.dongCode=null,this.gugunCode&&this.getDong(this.gugunCode)},searchApt(){this.dongCode&&(this.getCurrentPage(1),this.getHouseList(this.dongCode))},searchAptByText(){this.text&&(this.getCurrentPage(1),this.getHouseListByText(this.text))}}},m=p,d=a(1001),c=(0,d.Z)(m,o,i,!1,null,null,null),h=c.exports,u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.houses&&0!=e.houses.length?a("b-container",{staticClass:"bv-example-row mt-3"},[e._l(e.houses,(function(e,t){return a("house-list-item",{key:t,attrs:{house:e,index:t}})})),a("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,"first-number":"","last-number":""},nativeOn:{click:function(t){return e.getCurrentPage(e.nowPage)}},model:{value:e.nowPage,callback:function(t){e.nowPage=t},expression:"nowPage"}})],2):a("b-container",{staticClass:"bv-example-row mt-3"},[a("b-row",[a("b-col",[a("b-alert",{attrs:{show:""}},[e._v("주택 목록이 없습니다.")])],1)],1)],1)},g=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return(e.currentPage-1)*e.perPage<=e.index&&e.index<e.currentPage*e.perPage?a("b-row",{staticClass:"m-2",class:{"mouse-over-bgcolor":e.isColor,bgcolor:!e.isColor},on:{click:e.selectHouse,mouseover:function(t){return e.colorChange(!0)},mouseout:function(t){return e.colorChange(!1)}}},[a("b-col",{staticClass:"text-center align-self-center",attrs:{cols:"2"}},[a("b-img",{attrs:{thumbnail:"",src:"https://picsum.photos/250/250/?image=58",alt:"Image 1"}})],1),a("b-col",{staticClass:"align-self-center",attrs:{cols:"10"}},[e._v(" "+e._s(e.index+1-(e.currentPage-1)*e.perPage)+" : "+e._s(e.house.aptName)+" [aptCode : "+e._s(e.house.aptCode)+"] ")])],1):e._e()},k=[];const w="houseStore";var b={name:"HouseListItem",data(){return{isColor:!1}},props:{house:Object,index:Number},computed:{...(0,n.rn)(w,["currentPage","perPage"])},methods:{...(0,n.nv)(w,["detailHouse"]),selectHouse(){this.detailHouse(this.house)},colorChange(e){this.isColor=e}}},C=b,f=(0,d.Z)(C,v,k,!1,null,"1ca35689",null),y=f.exports;const _="houseStore";var x={name:"HouseList",components:{HouseListItem:y},data(){return{nowPage:1}},computed:{...(0,n.rn)(_,["houses","currentPage","perPage"]),rows(){return this.houses.length}},methods:{...(0,n.nv)(_,["getCurrentPage"]),changePage(){}}},P=x,I=(0,d.Z)(P,u,g,!1,null,null,null),M=I.exports,L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.house?s("b-container",{staticClass:"bv-example-row"},[s("b-modal",{attrs:{id:"modal-store",size:"lg",title:"주변상권",scrollable:"",centered:"","header-bg-variant":e.headerBgVariant,"header-text-variant":e.headerTextVariant}},[s("store-modal")],1),s("b-row",[s("b-col",[s("b-alert",{attrs:{show:"",variant:"primary"}},[s("h3",[e._v(e._s(e.house.aptName))])])],1)],1),s("b-row",{staticClass:"mb-2 mt-1"},[s("b-col",[s("b-img",{attrs:{src:a(5961),"fluid-grow":""}})],1)],1),s("b-row",[s("b-col",[s("b-alert",{attrs:{show:"",variant:"secondary"}},[e._v("아파트 코드 : "+e._s(e.house.aptCode))])],1),s("b-col",[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-store",modifiers:{"modal-store":!0}}],staticClass:"mr-2",attrs:{variant:"primary",size:"lg"}},[e._v("주변 상권")])],1)],1),s("b-row",[s("b-col",[s("b-alert",{attrs:{show:"",variant:"primary"}},[e._v("아파트 이름 : "+e._s(e.house.aptName)+" ")])],1)],1),s("b-row",[s("b-col",[s("b-alert",{attrs:{show:"",variant:"info"}},[e._v("주소 : "+e._s(e.house.sidoName)+" "+e._s(e.house.gugunName)+" "+e._s(e.house.dongName)+" ")])],1)],1),s("b-row",[s("b-col",[s("b-alert",{attrs:{show:"",variant:"warning"}},[e._v("지번 : "+e._s(e.house.jibun))])],1)],1),s("b-row",[s("b-col",[s("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("최근거래금액 : "+e._s(e._f("price")(1e4*parseInt(e.house.recentPrice.replace(",",""))))+"원")])],1)],1),s("b-row",[s("b-col",[s("b-form",[s("label",{staticClass:"e"},[e._v("이 집을 사려면 얼마나 걸릴까?")]),s("b-form-input",{ref:"asset",attrs:{id:"subject",type:"text",required:"",placeholder:"현재 자산을 숫자만 입력하세요"},model:{value:e.asset,callback:function(t){e.asset=t},expression:"asset"}}),s("br"),s("b-form-input",{ref:"save",attrs:{id:"subject",type:"text",required:"",placeholder:"월 평균 저축액을 숫자만 입력하세요"},model:{value:e.save,callback:function(t){e.save=t},expression:"save"}}),s("b-button",{staticClass:"m-3",attrs:{type:"submit",variant:"primary"},on:{click:e.onSubmit}},[e._v("확인")])],1)],1)],1)],1):e._e()},O=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"bv-example-row mt-3"},[a("b-row",[a("b-input",{attrs:{placeholder:"검색어가 포함된 업종명들을 검색! Enter 눌러서 갱신!"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchStore.apply(null,arguments)}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),a("div",{attrs:{id:"container2"}},[a("div",{attrs:{id:"rvWrapper2"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"roadview2"}}),a("div",{attrs:{id:"close2",title:"로드뷰닫기"},on:{click:e.closeRoadview}},[a("span",{staticClass:"img2"})])]),a("div",{attrs:{id:"mapWrapper2"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map2"}}),a("div",{attrs:{id:"roadviewControl2"},on:{click:e.setRoadviewRoad}})])]),a("b-row",[e.stores.length?a("b-col",[a("b-table",{attrs:{id:"store-table",items:e.stores,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,hover:"",responsive:"",striped:"","head-variant":"dark"}}),a("b-pagination",{attrs:{"total-rows":e.stores.length,"per-page":e.perPage,"aria-controls":"store-table","first-number":"","last-number":""},on:{"page-click":e.pageClick},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):a("b-col",{staticClass:"text-center"},[e._v("목록이 없습니다.")])],1)],1)},E=[];const N="houseStore";var R={data(){return{text:"",fields:[{key:"sname",label:"상호",tdClass:"tdClass"},{key:"type",label:"업종명",tdClass:"tdClass"},{key:"dongName",label:"법정동",tdClass:"tdClass"}],perPage:5,currentPage:1,options:[{value:5,text:"5개"},{value:10,text:"10개"},{value:20,text:"20개"}],map:null,markers:[],infowindow:null,customOverlay:null,root:"",selected:5,overlayOn:!1,container:null,mapWrapper:null,mapContainer:null,rvContainer:null,rv:null,rvClient:null,markImage:null,marker:null,mapCenter:null}},mounted(){if(window.kakao&&window.kakao.maps)this.initMap();else{const e=document.createElement("script");e.onload=()=>kakao.maps.load(this.initMap),e.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=6a58adc7189be28914e48f62abd688e7&libraries=services",document.head.appendChild(e)}this.toggleOverlay(!0),this.toggleOverlay(!1),this.searchStore()},computed:{...(0,n.rn)(N,["house","stores"])},methods:{...(0,n.nv)(N,["getStoreList"]),searchStore(){this.getStoreList({dongCode:this.house.dongCode,type:this.text}),this.pageClick(1,1)},initMap(){var e=document.getElementById("map2");this.mapCenter=new kakao.maps.LatLng(this.house.lat,this.house.lng);var t={center:this.mapCenter,level:3};this.map=new kakao.maps.Map(e,t),this.infowindow=new kakao.maps.InfoWindow({zIndex:1}),this.container=document.getElementById("container2"),this.mapWrapper=document.getElementById("mapWrapper2"),this.mapContainer=document.getElementById("map2"),this.rvContainer=document.getElementById("roadview2"),this.rv=new kakao.maps.Roadview(this.rvContainer),this.rvClient=new kakao.maps.RoadviewClient,this.markImage=new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/2018/pc/roadview_minimap_wk_2018.png",new kakao.maps.Size(26,46),{spriteSize:new kakao.maps.Size(1666,168),spriteOrigin:new kakao.maps.Point(705,114),offset:new kakao.maps.Point(13,46)}),this.marker=new kakao.maps.Marker({image:this.markImage,position:this.mapCenter,draggable:!0}),kakao.maps.event.addListener(this.rv,"position_changed",(()=>{var e=new kakao.maps.LatLng(this.rv.getPosition().getLat().toFixed(9),this.rv.getPosition().getLng().toFixed(9));this.map.setCenter(e),this.overlayOn&&this.marker.setPosition(e)})),kakao.maps.event.addListener(this.map,"click",(e=>{if(this.overlayOn){var t=e.latLng;this.marker.setPosition(t),this.toggleRoadview(t)}}))},displayMarkers(){var e=new kakao.maps.LatLngBounds;this.removeMarker();var t=0,a=0;this.stores.forEach((s=>{if(t<(this.currentPage-1)*this.perPage||t>=this.currentPage*this.perPage)t++;else{var r=new kakao.maps.LatLng(1*s.lat,1*s.lng);this.addMarker(r,a),e.extend(r),t++,a++}})),this.map.setBounds(e)},addMarker(e,t){var a="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png",s=new kakao.maps.Size(36,37),r={spriteSize:new kakao.maps.Size(36,691),spriteOrigin:new kakao.maps.Point(0,46*t+10),offset:new kakao.maps.Point(13,37)},o=new kakao.maps.MarkerImage(a,s,r),i=new kakao.maps.Marker({position:e,image:o});i.setMap(this.map),this.markers.push(i)},removeMarker(){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.markers=[]},toggleRoadview(e){this.rvClient.getNearestPanoId(e,100,(t=>{null===t?this.toggleMapWrapper(!0,e):(this.toggleMapWrapper(!1,e),this.rv.setPanoId(t,e))}))},toggleMapWrapper(e,t){e?(this.container.className="",this.map.relayout(),this.map.setCenter(t)):-1===this.container.className.indexOf("view_roadview2")&&(this.container.className="view_roadview2",this.map.relayout(),this.map.setCenter(t))},toggleOverlay(e){e?(this.overlayOn=!0,this.map.addOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW),this.marker.setMap(this.map),this.marker.setPosition(this.map.getCenter()),this.toggleRoadview(this.map.getCenter())):(this.overlayOn=!1,this.map.removeOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW),this.marker.setMap(null))},setRoadviewRoad(){var e=document.getElementById("roadviewControl2");-1===e.className.indexOf("active")?(e.className="active",this.toggleOverlay(!0)):(e.className="",this.toggleOverlay(!1))},closeRoadview(){var e=this.marker.getPosition();this.toggleMapWrapper(!0,e)},pageClick(e,t){this.currentPage=t,this.displayMarkers()}}},B=R,W=(0,d.Z)(B,S,E,!1,null,null,null),T=W.exports;const H="houseStore";var z={name:"HouseDetail",data(){return{asset:"",save:"",year:"",month:"",price:"",assetf:"",savef:"",headerBgVariant:"dark",headerTextVariant:"light"}},components:{StoreModal:T},methods:{onSubmit(e){e.preventDefault();let t=!0,a="";!this.asset&&(a="현재 자산을 입력해주세요",t=!1,this.$refs.asset.focus()),t&&!this.save&&(a="월 평균 저축금액을 입력해주세요",t=!1,this.$refs.save.focus()),t?this.result():alert(a)},result(){this.price=1e4*this.house.recentPrice.replace(",",""),this.month=parseInt((this.price-this.asset)/this.save),this.year=parseInt(this.month/12),this.month=this.month%12,alert("이 집을 사기 위해서는 "+this.year+"년 "+this.month+"개월이 걸립니다. \n (이자,집값 상승률 반영X)")}},computed:{...(0,n.rn)(H,["house"])},filters:{price(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e}},created(){this.price=this.house.recentPrice}},A=z,$=(0,d.Z)(A,L,O,!1,null,null,null),D=$.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-row",{staticClass:"float-right"},[a("b-col",{},[a("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info",size:"sm"},on:{click:e.displayMarkers}},[e._v("지도 갱신")])],1),a("b-col",{},[a("b-form-select",{attrs:{options:e.options},on:{change:function(t){return e.getPerPage(e.selected)}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1),a("b-row"),a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"rvWrapper"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"roadview"}}),a("div",{attrs:{id:"close",title:"로드뷰닫기"},on:{click:e.closeRoadview}},[a("span",{staticClass:"img"})])]),a("div",{attrs:{id:"mapWrapper"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map"}}),a("div",{attrs:{id:"roadviewControl"},on:{click:e.setRoadviewRoad}})])])],1)},G=[];const j="houseStore";var Z={name:"KakaoMap",data(){return{map:null,markers:[],infowindow:null,customOverlay:null,root:"",selected:5,options:[{value:5,text:"페이지당 검색 수(기본 5개)"},{value:10,text:"10개"},{value:20,text:"20개"}],overlayOn:!1,container:null,mapWrapper:null,mapContainer:null,rvContainer:null,rv:null,rvClient:null,markImage:null,marker:null,mapCenter:null}},computed:{...(0,n.rn)(j,["houses","currentPage","perPage"]),changeMap(){return this.houses[0].aptName}},mounted(){if(window.kakao&&window.kakao.maps)this.initMap();else{const e=document.createElement("script");e.onload=()=>kakao.maps.load(this.initMap),e.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=6a58adc7189be28914e48f62abd688e7&libraries=services",document.head.appendChild(e)}},methods:{...(0,n.nv)(j,["getPerPage"]),initMap(){var e=document.getElementById("map");this.mapCenter=new kakao.maps.LatLng(37.501449,127.03953);var t={center:this.mapCenter,level:1};this.map=new kakao.maps.Map(e,t),this.infowindow=new kakao.maps.InfoWindow({zIndex:1}),this.container=document.getElementById("container"),this.mapWrapper=document.getElementById("mapWrapper"),this.mapContainer=document.getElementById("map"),this.rvContainer=document.getElementById("roadview"),this.rv=new kakao.maps.Roadview(this.rvContainer),this.rvClient=new kakao.maps.RoadviewClient,this.markImage=new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/2018/pc/roadview_minimap_wk_2018.png",new kakao.maps.Size(26,46),{spriteSize:new kakao.maps.Size(1666,168),spriteOrigin:new kakao.maps.Point(705,114),offset:new kakao.maps.Point(13,46)}),this.marker=new kakao.maps.Marker({image:this.markImage,position:this.mapCenter,draggable:!0}),kakao.maps.event.addListener(this.rv,"position_changed",(()=>{var e=new kakao.maps.LatLng(this.rv.getPosition().getLat().toFixed(9),this.rv.getPosition().getLng().toFixed(9));this.map.setCenter(e),this.overlayOn&&this.marker.setPosition(e)})),kakao.maps.event.addListener(this.map,"click",(e=>{if(this.overlayOn){var t=e.latLng;this.marker.setPosition(t),this.toggleRoadview(t)}}))},displayMarkers(){var e=new kakao.maps.LatLngBounds;this.removeMarker();var t=0,a=0;this.houses.forEach((s=>{if(t<(this.currentPage-1)*this.perPage||t>=this.currentPage*this.perPage)t++;else{var r=new kakao.maps.LatLng(s.lat,s.lng);this.addMarker(r,a),e.extend(r),t++,a++}})),this.map.setBounds(e)},addMarker(e,t){var a="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png",s=new kakao.maps.Size(36,37),r={spriteSize:new kakao.maps.Size(36,691),spriteOrigin:new kakao.maps.Point(0,46*t+10),offset:new kakao.maps.Point(13,37)},o=new kakao.maps.MarkerImage(a,s,r),i=new kakao.maps.Marker({position:e,image:o});i.setMap(this.map),this.markers.push(i)},removeMarker(){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.markers=[]},getListItem(e,t){var a=document.createElement("li"),s=`\n        <span class="markerbg marker_${e+1}></span>\n        <div class="info"><h5>${t.aptName}</h5> <button>관심등록</button>\n        <span>${t.sidoName} ${t.gugunName} ${t.dongName} ${t.jibun}</span>\n\t    `;return a.innerHTML=s,a.className="item",a},removeAllChildNods(e){while(e.hasChildNodes())e.removeChild(e.lastChild)},toggleRoadview(e){this.rvClient.getNearestPanoId(e,100,(t=>{null===t?this.toggleMapWrapper(!0,e):(this.toggleMapWrapper(!1,e),this.rv.setPanoId(t,e))}))},toggleMapWrapper(e,t){e?(this.container.className="",this.map.relayout(),this.map.setCenter(t)):-1===this.container.className.indexOf("view_roadview")&&(this.container.className="view_roadview",this.map.relayout(),this.map.setCenter(t))},toggleOverlay(e){e?(this.overlayOn=!0,this.map.addOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW),this.marker.setMap(this.map),this.marker.setPosition(this.map.getCenter()),this.toggleRoadview(this.map.getCenter())):(this.overlayOn=!1,this.map.removeOverlayMapTypeId(kakao.maps.MapTypeId.ROADVIEW),this.marker.setMap(null))},setRoadviewRoad(){var e=document.getElementById("roadviewControl");-1===e.className.indexOf("active")?(e.className="active",this.toggleOverlay(!0)):(e.className="",this.toggleOverlay(!1))},closeRoadview(){var e=this.marker.getPosition();this.toggleMapWrapper(!0,e)}}},F=Z,U=(0,d.Z)(F,V,G,!1,null,"d1106698",null),q=U.exports,K={name:"HouseView",components:{HouseSearchBar:h,HouseList:M,HouseDetail:D,HouseMap:q}},X=K,J=(0,d.Z)(X,s,r,!1,null,"371966e8",null),Q=J.exports},5961:function(e,t,a){e.exports=a.p+"img/apt.79c53c6a.png"}}]);
//# sourceMappingURL=398.35249b59.js.map